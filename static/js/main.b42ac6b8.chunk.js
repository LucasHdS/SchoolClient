(this.webpackJsonpschool=this.webpackJsonpschool||[]).push([[0],{118:function(e,t,n){"use strict";n.r(t);var a,l=n(0),c=n.n(l),r=n(6),u=n.n(r),o=(n(92),n(93),n(11)),i=n(33),s=n.n(i),d=n(15),m=n.n(d),f=n(17),b=n(51),p=n.n(b),v=n(159),E=n(161),h=n(157),y=n(160),_=n(153),g=n(158),O=n(52),S=n.n(O),j=n(73),C=n.n(j),w=n(28);!function(e){e.Create="Student.Create",e.Update="Student.Update",e.Delete="Student.Delete",e.Load="Student.Load"}(a||(a={}));var N=function e(){Object(w.a)(this,e)};N.create=function(e){return{type:a.Create,student:e}},N.update=function(e){return{type:a.Update,student:e}},N.delete=function(e){return{type:a.Delete,student:e}},N.load=function(e){return{type:a.Load,students:e}};var x=function e(){Object(w.a)(this,e)};x.Student=a;var k=function e(){Object(w.a)(this,e)};k.Student=N;var A=function(e){var t=Object(f.b)(),n=Object(l.useState)(e.student),a=Object(o.a)(n,2),r=a[0],u=a[1],i=Object(f.c)((function(t){var n=t.students.findIndex((function(t){return t.id===e.student.id}));return t.students[n]}));Object(l.useEffect)((function(){u(i)}),[i]);return c.a.createElement(c.a.Fragment,null,c.a.createElement(_.a,{onClick:function(){return e.onClick(e.student)},className:S.a.row,key:r.id},c.a.createElement(h.a,{align:"left"},r.name),c.a.createElement(h.a,{align:"left"},r.course.label),c.a.createElement(h.a,{align:"left"},r.gender.label),c.a.createElement(h.a,null,c.a.createElement(C.a,{onClick:function(){return function(e){m.a.defaults.headers.post["Content-Type"]="application/json;charset=utf-8",m.a.defaults.headers.post["Access-Control-Allow-Origin"]="*",m.a.delete("http://191.232.197.170/ServiceStudent.svc/deleteStudent/".concat(e.id)).then((function(){t(k.Student.delete(e))})).catch((function(){console.log("Erro")}))}(r)},className:S.a.icon,color:"primary"}))))},D=function(e){var t=Object(f.b)(),n=Object(f.c)((function(e){return e.students})),a=Object(l.useState)(n),r=Object(o.a)(a,2),u=r[0],i=r[1];return Object(l.useEffect)((function(){var e=[];m.a.get("https://191.232.197.170:443/ServiceStudent.svc/getStudents").then((function(n){n.data.GetStudentsResult.map((function(n){var a={course:{id:n.Course.id,label:n.Course.label},gender:{id:n.Gender.id,label:n.Gender.label},name:n.name,id:n.id};return e.push(a),t(k.Student.load(e))}))})).catch((function(e){console.log(e)}))}),[t]),Object(l.useEffect)((function(){i(n)}),[n]),c.a.createElement(g.a,{className:p.a.container},c.a.createElement(v.a,{className:p.a.table,"aria-label":"simple table"},c.a.createElement(y.a,null,c.a.createElement(_.a,null,c.a.createElement(h.a,{align:"left"},"Nome"),c.a.createElement(h.a,{align:"left"},"Curso"),c.a.createElement(h.a,{align:"left"},"Sexo"),c.a.createElement(h.a,null))),c.a.createElement(E.a,null,u.map((function(t){return c.a.createElement(A,{onClick:e.onClick,student:t,key:t.id})})))))},I=n(53),T=n.n(I),U=n(168),L=n(165),B=n(119),M=n(54),F=n.n(M),G=n(74),J=n.n(G),z=n(167),P=function(e){var t=Object(l.useState)(e.value?e.value:""),n=Object(o.a)(t,2),a=n[0],r=n[1],u=Object(f.c)((function(e){return e.students}));return Object(l.useEffect)((function(){r("")}),[u]),Object(l.useEffect)((function(){r(e.value?e.value:"")}),[e.value]),c.a.createElement("div",{style:e.width?{width:e.width}:{}},c.a.createElement(z.a,{type:e.type?e.type:"",value:a,id:"standard-basic",className:J.a.input,label:e.label,margin:"normal",style:e.width?{width:e.width,margin:0}:{margin:0},onChange:function(t){r(t.target.value),e.onChange(t.target.value)}}))},R=n(76),H=n.n(R),Q=n(166),V=n(169),W=function(e){var t=Object(l.useState)(e.values[0].id),n=Object(o.a)(t,2),a=n[0],r=n[1];return c.a.createElement("div",{className:H.a.container},c.a.createElement("label",null,e.label),c.a.createElement(Q.a,{labelId:"".concat(e.label,"-label"),id:"".concat(e.label,"-select"),value:a,style:e.style?e.style:{},onChange:function(t){return n=t.target.value,r(n),void e.onChange(n);var n}},e.values.map((function(e){return c.a.createElement(V.a,{key:e.id,value:e.id},e.label)}))))},Z=n(164),q=function(e){return c.a.createElement("div",{style:e.width?{width:e.width}:{}},c.a.createElement(Z.a,{type:"submit",variant:"contained",color:"primary",disabled:"Disable"===e.state},e.label))},K=[{label:"Masculino",id:1},{label:"Feminino",id:2}],X=[{label:"Eng. da Computa\xe7\xe3o",id:1},{label:"Eng. C\xedvil",id:2},{label:"Fisioterapia",id:3}],Y=function(e){var t=Object(f.b)(),n=K[0],a=X[0],r=Object(l.useState)(e.student?e.student:{id:0,course:a,gender:n,name:""}),u=Object(o.a)(r,1)[0],i=u.name;return c.a.createElement("div",{className:F.a.container},c.a.createElement("form",{className:F.a.form,onSubmit:function(l){if(l&&l.preventDefault(),a&&n&&i.length>0){var c={id:0,name:i,course:a,gender:n};"create"===e.type?(m.a.defaults.headers.post["Content-Type"]="application/json;charset=utf-8",m.a.defaults.headers.post["Access-Control-Allow-Origin"]="*",m.a.post("http://191.232.197.170/ServiceStudent.svc/createStudent",{name:c.name,courseID:c.course.id,genderID:c.gender.id}).then((function(){t(k.Student.create(c))})).catch((function(){console.log("Erro")}))):(m.a.defaults.headers.post["Content-Type"]="application/json;charset=utf-8",m.a.defaults.headers.post["Access-Control-Allow-Origin"]="*",m.a.put("http://191.232.197.170/ServiceStudent.svc/updateStudent",{id:c.id,name:c.name,courseID:c.course.id,genderID:c.gender.id}).then((function(){t(k.Student.update(c))})).catch((function(){console.log("Erro")}))),e.onSubmit&&e.onSubmit()}}},c.a.createElement(P,{type:"text",value:u.name.length>0?u.name:null,onChange:function(e){i=e},width:"100%",label:"Nome"}),c.a.createElement(W,{value:u.gender,onChange:function(e){var t=K.find((function(t){return t.id===e}));t&&(n=t)},values:K,label:"Sexo"}),c.a.createElement(W,{value:u.course,onChange:function(e){var t=X.find((function(t){return t.id===e}));t&&(a=t)},values:X,label:"Curso",style:{width:"100%",textAlign:"left"}}),c.a.createElement(q,{label:"update"===e.type?"Atualizar":"Cadastrar",state:"Enable"},"Cadastrar")))},$=function(e){var t=c.a.useState(e.isOpen),n=Object(o.a)(t,2),a=n[0],r=n[1],u=Object(l.useState)(e.student),i=Object(o.a)(u,2),s=i[0],d=i[1];Object(l.useEffect)((function(){d(e.student)}),[e.student]),Object(l.useEffect)((function(){r(e.isOpen)}),[e.isOpen]);var m=function(){e.onClose(),r(!1)};return c.a.createElement("div",null,c.a.createElement(U.a,{"aria-labelledby":"transition-modal-title","aria-describedby":"transition-modal-description",className:T.a.modal,open:a,onClose:m,closeAfterTransition:!0,BackdropComponent:L.a,BackdropProps:{timeout:500}},c.a.createElement(B.a,{in:a},c.a.createElement("div",{className:T.a.form},c.a.createElement(Y,{onSubmit:m,type:"update",student:s})))))},ee=function(){var e=Object(l.useState)(!1),t=Object(o.a)(e,2),n=t[0],a=t[1],r=Object(l.useState)({id:0,course:{label:"Eng. da Computa\xe7\xe3o",id:1},gender:{label:"Masculino",id:1},name:""}),u=Object(o.a)(r,2),i=u[0],d=u[1];return c.a.createElement("div",{className:s.a.container},c.a.createElement("div",{className:s.a.header},c.a.createElement("div",{className:s.a.title},c.a.createElement("h1",null,"Cadastro de Aluno"))),c.a.createElement("div",{className:s.a.body},c.a.createElement("div",{className:s.a.form},c.a.createElement(Y,{type:"create"})),c.a.createElement("div",{className:s.a.table},c.a.createElement(D,{onClick:function(e){!function(e){d(e),a(!0)}(e)}})),c.a.createElement($,{onClose:function(){a(!1)},student:i,isOpen:n})))},te=function(){return c.a.createElement("div",{className:"App"},c.a.createElement(ee,null))},ne=n(27),ae=n(24),le=Object(ne.c)({students:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case x.Student.Create:return[].concat(Object(ae.a)(e),[t.student]);case x.Student.Update:var n=e.findIndex((function(e){return e.id===t.student.id}));return e[n]=t.student,e;case x.Student.Delete:return e.filter((function(e){return e.id!==t.student.id}));case x.Student.Load:return t.students;default:return e}}}),ce=n(77);n.d(t,"initialState",(function(){return re})),n.d(t,"store",(function(){return ue}));var re={students:[]},ue=Object(ne.d)(le,Object(ne.a)(ce.a));u.a.render(c.a.createElement(f.a,{store:ue},c.a.createElement(te,null)),document.getElementById("root"))},33:function(e,t,n){e.exports={container:"styles_container__26Nf5",header:"styles_header__33hjd",body:"styles_body__wh2u9",title:"styles_title__2vgkN",row:"styles_row__VHiba",form:"styles_form__2mMcm",table:"styles_table__Jf96i"}},51:function(e,t,n){e.exports={container:"styles_container__3Out_",table:"styles_table__3TnUU",icon:"styles_icon__3dATx"}},52:function(e,t,n){e.exports={row:"styles_row__2P89N"}},53:function(e,t,n){e.exports={form:"styles_form__2m1er",modal:"styles_modal__1L1MW"}},54:function(e,t,n){e.exports={container:"styles_container__3S1oc",form:"styles_form__QgZ2B"}},74:function(e,t,n){e.exports={input:"styles_input__3CI3m"}},76:function(e,t,n){e.exports={container:"styles_container__eNbRz"}},87:function(e,t,n){e.exports=n(118)},92:function(e,t,n){},93:function(e,t,n){}},[[87,1,2]]]);
//# sourceMappingURL=main.b42ac6b8.chunk.js.map